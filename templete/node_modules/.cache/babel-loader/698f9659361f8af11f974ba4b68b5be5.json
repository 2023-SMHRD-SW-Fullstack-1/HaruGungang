{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\SMHRD\\\\Desktop\\\\HaruGungang\\\\templete\\\\src\\\\components\\\\Auth.jsx\";\nimport React, { useEffect } from 'react';\nimport axios from \"axios\";\nimport qs from \"qs\";\nimport { useNavigate } from 'react-router-dom';\nconst Auth = () => {\n  const REST_API_KEY = '9682bae209042aa5b5a5dde259553bc4';\n  const REDIRECT_URI = \"http://localhost:3000/auth/kakao/callback\";\n  const navigate = useNavigate();\n  const code = new URL(window.location.href).searchParams.get(\"code\");\n  const getToken = async () => {\n    const payload = qs.stringify({\n      grant_type: \"authorization_code\",\n      client_id: REST_API_KEY,\n      redirect_uri: REDIRECT_URI,\n      code: code\n    });\n    try {\n      // access token 가져오기\n      const res = await axios.post(\"https://kauth.kakao.com/oauth/token\", payload);\n      console.log('토큰 :', res);\n      // Kakao Javascript SDK 초기화\n      window.Kakao.init(REST_API_KEY);\n      // access token 설정\n      window.Kakao.Auth.setAccessToken(res.data.access_token);\n      navigate(\"/profile\");\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    getToken();\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, code);\n};\nexport default Auth;","map":{"version":3,"names":["React","useEffect","axios","qs","useNavigate","Auth","REST_API_KEY","REDIRECT_URI","navigate","code","URL","window","location","href","searchParams","get","getToken","payload","stringify","grant_type","client_id","redirect_uri","res","post","console","log","Kakao","init","setAccessToken","data","access_token","err","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/SMHRD/Desktop/HaruGungang/templete/src/components/Auth.jsx"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport axios from \"axios\";\r\nimport qs from \"qs\";\r\nimport { useNavigate } from 'react-router-dom';\r\nconst Auth = () => {\r\n    const REST_API_KEY = '9682bae209042aa5b5a5dde259553bc4';\r\n    const REDIRECT_URI = \"http://localhost:3000/auth/kakao/callback\";\r\n\r\n    const navigate = useNavigate();\r\n\r\n    const code = new URL(window.location.href).searchParams.get(\"code\");\r\n\r\n    const getToken = async () => {\r\n        const payload = qs.stringify({\r\n          grant_type: \"authorization_code\",\r\n          client_id: REST_API_KEY,\r\n          redirect_uri: REDIRECT_URI,\r\n          code: code,\r\n        });\r\n        try {\r\n          // access token 가져오기\r\n          const res = await axios.post(\r\n            \"https://kauth.kakao.com/oauth/token\",\r\n            payload\r\n\r\n          );\r\n            console.log('토큰 :', res);\r\n          // Kakao Javascript SDK 초기화\r\n          window.Kakao.init(REST_API_KEY);\r\n          // access token 설정\r\n          window.Kakao.Auth.setAccessToken(res.data.access_token);\r\n          navigate(\"/profile\");\r\n\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n\r\n    useEffect(() => {\r\n        getToken();\r\n    }, []);\r\n\r\n    return (\r\n        <div>\r\n            { code }\r\n        </div>\r\n    );\r\n};\r\nexport default Auth;"],"mappings":";AAAA,OAAOA,KAAK,IAAGC,SAAS,QAAO,OAAO;AACtC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,EAAE,MAAM,IAAI;AACnB,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,MAAMC,IAAI,GAAGA,CAAA,KAAM;EACf,MAAMC,YAAY,GAAG,kCAAkC;EACvD,MAAMC,YAAY,GAAG,2CAA2C;EAEhE,MAAMC,QAAQ,GAAGJ,WAAW,CAAC,CAAC;EAE9B,MAAMK,IAAI,GAAG,IAAIC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAACC,YAAY,CAACC,GAAG,CAAC,MAAM,CAAC;EAEnE,MAAMC,QAAQ,GAAG,MAAAA,CAAA,KAAY;IACzB,MAAMC,OAAO,GAAGd,EAAE,CAACe,SAAS,CAAC;MAC3BC,UAAU,EAAE,oBAAoB;MAChCC,SAAS,EAAEd,YAAY;MACvBe,YAAY,EAAEd,YAAY;MAC1BE,IAAI,EAAEA;IACR,CAAC,CAAC;IACF,IAAI;MACF;MACA,MAAMa,GAAG,GAAG,MAAMpB,KAAK,CAACqB,IAAI,CAC1B,qCAAqC,EACrCN,OAEF,CAAC;MACCO,OAAO,CAACC,GAAG,CAAC,MAAM,EAAEH,GAAG,CAAC;MAC1B;MACAX,MAAM,CAACe,KAAK,CAACC,IAAI,CAACrB,YAAY,CAAC;MAC/B;MACAK,MAAM,CAACe,KAAK,CAACrB,IAAI,CAACuB,cAAc,CAACN,GAAG,CAACO,IAAI,CAACC,YAAY,CAAC;MACvDtB,QAAQ,CAAC,UAAU,CAAC;IAEtB,CAAC,CAAC,OAAOuB,GAAG,EAAE;MACZP,OAAO,CAACC,GAAG,CAACM,GAAG,CAAC;IAClB;EACF,CAAC;EAEH9B,SAAS,CAAC,MAAM;IACZe,QAAQ,CAAC,CAAC;EACd,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIhB,KAAA,CAAAgC,aAAA;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GACM7B,IACD,CAAC;AAEd,CAAC;AACD,eAAeJ,IAAI"},"metadata":{},"sourceType":"module"}